/*   Code    	: New MasterMind Mobile Game   Version 	: 1.0   Year    	: February 2012   Autor	: Buğra ÖZDEN   Mail    	: bugra.ozden@gmail.com   Site    	: bugraozden.com   You are free:   to Share — to copy, distribute and transmit the work   to Remix — to adapt the work   to make commercial use of the work      <http://creativecommons.org/licenses/by/3.0/>   ( Comments written in Turkish. ) */package lib {			import com.greensock.*;	import com.greensock.easing.*;		import flash.desktop.NativeApplication;	import flash.desktop.SystemIdleMode;	import flash.display.MovieClip;	import flash.display.StageAlign;	import flash.display.StageScaleMode;	import flash.events.Event;	import flash.events.KeyboardEvent;	import flash.events.MouseEvent;	import flash.net.*;	import flash.system.*;	import flash.system.Security;	import flash.system.Capabilities;	import flash.ui.Keyboard;		import lib.Config;	import lib.Global;	import lib.HidePanel;	import lib.SoundLib;		public class Main extends MovieClip {				public var gameScr:MovieClip;		public var startScr:MovieClip;		public var helpScr:MovieClip;				public function Main() {						//stage.nativeWindow.title = "New MasterMind Game";						startScr.addEventListener("Play", _openGame);			startScr.addEventListener("Help", _openHelp);						gameScr.addEventListener("Close", _closeGame);			helpScr.addEventListener("Close", _closeHelp);			startScr.addEventListener("Quit", _quitGame);						//stage.addEventListener(Event.RESIZE, _windowResized );						//show startScr			_effectTo(startScr);						//play sounds			if (Config.settings[0].music) SoundLib.playMusic() else SoundLib.stopMusic();			if (Config.settings[0].sound) SoundLib.playEffect() else SoundLib.stopEffect();						if (Config.platform == "web") {							}else if (Config.platform == "android") {							/*			if(stage.stageWidth < 480 || stage.stageHeight < 800) {					stage.scaleMode = StageScaleMode.SHOW_ALL;				}else {					stage.scaleMode = StageScaleMode.NO_SCALE;				}			*/								if(Capabilities.screenResolutionX < 480 || Capabilities.screenResolutionY < 800) {					stage.scaleMode = StageScaleMode.SHOW_ALL;				}else {					stage.scaleMode = StageScaleMode.NO_SCALE;				}			}			if(Capabilities.cpuArchitecture=="ARM")			{				NativeApplication.nativeApplication.addEventListener(Event.ACTIVATE, handleActivate, false, 0, true);				NativeApplication.nativeApplication.addEventListener(Event.DEACTIVATE, handleDeactivate, false, 0, true);				NativeApplication.nativeApplication.addEventListener(KeyboardEvent.KEY_DOWN, handleKeys, false, 0, true);			}		}					private function _windowResized(e:Event)		{			//some code		}				//close help scr		private function _closeHelp(e:Event):void {			_effectTo(helpScr, false);			_effectTo(startScr);		}				//close game scr		private function _closeGame(e:Event):void {			_effectTo(gameScr, false);			startScr.changeButtonName(Global.game);			_effectTo(startScr);			if (Config.settings[0].music) SoundLib.playMusic() else SoundLib.stopMusic();		}				//open help scr		private function _openHelp(e:Event):void {			_effectTo(startScr, false);			_effectTo(helpScr);		}				//open game scr		private function _openGame(e:Event):void {			_effectTo(startScr, false);			_effectTo(gameScr);			gameScr.startGame(!Global.game);		}		//scr effect		private function _effectTo($me:MovieClip, $show:Boolean = true):void {						if($show) {				$me.x = 0;				$me.y = -800;				$me.alpha = 0;				TweenLite.to($me, 2, { x:0, y:0, alpha:1, ease:Bounce.easeOut } );			}else {				$me.x = 0;				$me.y = 0;				$me.alpha = 1;				TweenLite.to($me, 2, { x:0, y:800, alpha:0, ease:Bounce.easeOut } );			}		}				//quit app		private function _quitGame(e:Event) {			NativeApplication.nativeApplication.exit();		}				private function handleActivate(event:Event):void		{			NativeApplication.nativeApplication.systemIdleMode = SystemIdleMode.KEEP_AWAKE;		}		 		private function handleDeactivate(event:Event = null):void		{			//NativeApplication.nativeApplication.exit();		}		 		private function handleKeys(event:KeyboardEvent):void		{			if (event.keyCode == Keyboard.BACK) {				//oyun varsa kapatma				if(!Global.game) NativeApplication.nativeApplication.exit();			}		}	}}